--- Jour 14 : Redoubt des toilettes ---
L'un des historiens a besoin d'aller aux toilettes ; heureusement, vous savez qu'il y a des toilettes près d'un endroit non visité sur leur liste, et vous êtes donc tous rapidement téléportés directement dans le hall du siège d'Easter Bunny.

Malheureusement, EBHQ semble avoir « amélioré » la sécurité des toilettes après votre dernière visite . La zone à l'extérieur des toilettes grouille de robots !

Pour amener l'Historien en toute sécurité aux toilettes, vous aurez besoin d'un moyen de prédire où se trouveront les robots dans le futur. Heureusement, ils semblent tous se déplacer sur le sol carrelé en lignes droites prévisibles .

Vous créez une liste (votre entrée de puzzle) de toutes les positions actuelles ( p) et vitesses ( v) des robots, un robot par ligne. Par exemple :

p=0,4 v=3,-3
p=6,3 v=-1,-3
p=10,3 v=-1,2
p=2,0 v=2,-1
p=0,0 v=1,3
p=3,0 v=-2,-2
p=7,6 v=-1,-3
p=3,0 v=-1,-2
p=9,3 v=2,3
p=7,3 v=-1,2
p=2,4 v=2,-3
p=9,5 v=-3,-3
La position de chaque robot est donnée comme suit : p=x,yoù xreprésente le nombre de tuiles à partir du mur de gauche et yreprésente le nombre de tuiles à partir du mur supérieur (vu d'en haut). Ainsi, une position de p=0,0signifie que le robot est tout en haut à gauche.

La vitesse de chaque robot est donnée par v=x,yoù xet yest donnée en tuiles par seconde . Une valeur positive xsignifie que le robot se déplace vers la droite et une valeur positive ysignifie que le robot se déplace vers le bas . Ainsi, une vitesse de v=1,-2signifie que chaque seconde, le robot se déplace 1vers la droite et 2vers le haut.

Les robots à l'extérieur de la salle de bain se trouvent dans un espace dont 101la largeur et 103la hauteur sont égales à celles des carreaux (vus d'en haut). Cependant, dans cet exemple, les robots se trouvent dans un espace dont 11la largeur et 7la hauteur sont égales à celles des carreaux.

Les robots sont capables de naviguer les uns au-dessus et en dessous des autres (grâce à une combinaison de ressorts, de jambes extensibles et de quadricoptères), ils peuvent donc partager la même tuile et n'interagir pas les uns avec les autres. Visuellement, le nombre de robots sur chaque tuile dans cet exemple ressemble à ceci :

1.12.......
...........
...........
......11.11
1.1........
.........1.
.......1...
Ces robots ont une fonction unique pour une sécurité maximale dans la salle de bains : ils peuvent se téléporter . Lorsqu'un robot se heurte à un bord de l'espace dans lequel il se trouve, il se téléporte de l'autre côté , en s'enroulant efficacement autour des bords. Voici ce que p=2,4 v=2,-3fait le robot pendant les premières secondes :

Initial state:
...........
...........
...........
...........
..1........
...........
...........

After 1 second:
...........
....1......
...........
...........
...........
...........
...........

After 2 seconds:
...........
...........
...........
...........
...........
......1....
...........

After 3 seconds:
...........
...........
........1..
...........
...........
...........
...........

After 4 seconds:
...........
...........
...........
...........
...........
...........
..........1

After 5 seconds:
...........
...........
...........
.1.........
...........
...........
...........
L'historien ne peut plus attendre très longtemps, vous n'avez donc pas besoin de simuler les robots très longtemps. Où seront les robots après 100quelques secondes ?

Dans l'exemple ci-dessus, le nombre de robots sur chaque tuile après 100 secondes se présente comme ceci :

......2..1.
...........
1..........
.11........
.....1.....
...12......
.1....1....
Pour déterminer la zone la plus sûre, comptez le nombre de robots dans chaque quadrant après 100 secondes. Les robots qui se trouvent exactement au milieu (horizontalement ou verticalement) ne sont pas considérés comme étant dans un quadrant, donc les seuls robots pertinents sont :

..... 2..1.
..... .....
1.... .....
           
..... .....
...12 .....
.1... 1....
Dans cet exemple, les quadrants contiennent 1, 3, 4et 1robot. En les multipliant ensemble, on obtient un facteur de sécurité total de 12.

Prévoyez le mouvement des robots de votre liste dans un espace dont 101la largeur et 103la hauteur sont égales à 100 carreaux. Quel sera le facteur de sécurité après 100 secondes exactement ?
